<html lang="en" xmlns="http://www.w3.org/1999/html">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<head>
    <title>服务管理后台</title>
    <!-- 引入 Bootstrap -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container">
    <div class="row clearfix">
        <div class="col-md-12 column">
            <div class="jumbotron">
                <h1>
                    <div style="text-align: center;">服务管理后台</div>
                </h1>


            </div>
        </div>
    </div>
    <div class="row clearfix">
        <div class="col-md-4 column">
            <h2>
                Druid
            </h2>
            <p>
                <a class="btn" href="javascript:getDruidWeb();">查看监控 »</a>
            </p>
        </div>
        <div class="col-md-4 column">
            <h2>
                ActiveMQ
            </h2>
            <p>
                <a class="btn" href="http://127.0.0.1:8161">查看监控 »</a>
            </p>
        </div>
        <div class="col-md-4 column">
            <div class="col-md-4 column"><br>
                <a class="btn btn-success btn-lg" href="javascript:startServer();">启动服务</a>
                <br><br>
                <a class="btn btn-primary btn-large" href="javascript:queryStatus();">查看服务状态</a>
            </div>
            <div class="col-md-4 column">
            </div>
        </div>
    </div>
</div>





    <!-- jQuery (Bootstrap 的 JavaScript 插件需要引入 jQuery) -->
    <script src="https://code.jquery.com/jquery.js"></script>

    <script>
        function getDruidWeb(){
            //获取当前网址，如： http://localhost:9527/zdss-web/login/login.do
            var curWwwPath = window.document.location.href;
            //获取主机地址之后的目录，如：zdss-web/login/login.do
            var pathName = window.document.location.pathname;
            //  console.log("当前路径：" + pathName);
            var pos = curWwwPath.indexOf(pathName);
            //   console.log("路径位置：" + pos);
            //获取主机地址，如： http://localhost:9527
            var localhostPath = curWwwPath.substring(0, pos);
            console.log("当前主机地址：" + localhostPath);
            //获取带"/"的项目名，如：/zdss-web
            var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
            console.log("当前项目名称：" + projectName);
            var URL = localhostPath +projectName+ "/druid/index.html";
            window.location.href = URL;
        }
        function startServer(){
            //获取当前网址，如： http://localhost:9527/zdss-web/login/login.do
            var curWwwPath = window.document.location.href;
            //获取主机地址之后的目录，如：zdss-web/login/login.do
            var pathName = window.document.location.pathname;
            //  console.log("当前路径：" + pathName);
            var pos = curWwwPath.indexOf(pathName);
            //   console.log("路径位置：" + pos);
            //获取主机地址，如： http://localhost:9527
            var localhostPath = curWwwPath.substring(0, pos);
            console.log("当前主机地址：" + localhostPath);
            //获取带"/"的项目名，如：/zdss-web
            var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
            console.log("当前项目名称：" + projectName);
            var startServer = localhostPath +projectName+ "/startServer";
            window.location.href = startServer;
        }
        function queryStatus(){
            //获取当前网址，如： http://localhost:9527/zdss-web/login/login.do
            var curWwwPath = window.document.location.href;
            //获取主机地址之后的目录，如：zdss-web/login/login.do
            var pathName = window.document.location.pathname;
            //  console.log("当前路径：" + pathName);
            var pos = curWwwPath.indexOf(pathName);
            //   console.log("路径位置：" + pos);
            //获取主机地址，如： http://localhost:9527
            var localhostPath = curWwwPath.substring(0, pos);
            console.log("当前主机地址：" + localhostPath);
            //获取带"/"的项目名，如：/zdss-web
            var projectName = pathName.substring(0, pathName.substr(1).indexOf('/') + 1);
            console.log("当前项目名称：" + projectName);
            var queryStatus = localhostPath +projectName+ "/queryStatus";
            window.location.href = queryStatus;
        }

    </script>
</body>
</html>
